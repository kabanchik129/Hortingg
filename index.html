<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèï Horting System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        h1 {
            color: #2d3748;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .status {
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-weight: bold;
            text-align: center;
            transition: all 0.3s;
        }
        
        .status.connected {
            background: #c6f6d5;
            color: #22543d;
            border: 2px solid #9ae6b4;
        }
        
        .status.disconnected {
            background: #fed7d7;
            color: #742a2a;
            border: 2px solid #fc8181;
        }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        button {
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 14px rgba(0,0,0,0.1);
        }
        
        .btn-primary {
            background: #4299e1;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3182ce;
        }
        
        .btn-success {
            background: #48bb78;
            color: white;
        }
        
        .btn-success:hover {
            background: #38a169;
        }
        
        .btn-warning {
            background: #ed8936;
            color: white;
        }
        
        .btn-warning:hover {
            background: #dd6b20;
        }
        
        .btn-danger {
            background: #f56565;
            color: white;
        }
        
        .btn-danger:hover {
            background: #e53e3e;
        }
        
        .data-section {
            margin-top: 40px;
            padding: 20px;
            background: #f7fafc;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }
        
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .team-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .team-card h3 {
            margin-bottom: 15px;
            color: #2d3748;
        }
        
        .member-list, .task-list {
            list-style: none;
            margin-top: 10px;
        }
        
        .member-list li, .task-list li {
            padding: 8px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 3px solid;
        }
        
        .notification {
            padding: 15px;
            margin: 10px 0;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #4299e1;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .notification.unread {
            border-left-color: #f56565;
            background: #fff5f5;
        }
        
        .message {
            padding: 15px;
            margin: 10px 0;
            background: #ebf8ff;
            border-radius: 10px;
            border: 1px solid #bee3f8;
        }
        
        .message.unread {
            background: #ebf8ff;
            border-color: #4299e1;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4299e1;
        }
        
        .stat-label {
            color: #718096;
            margin-top: 5px;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            color: #718096;
            font-size: 0.9em;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèï –°–∏—Å—Ç–µ–º–∞ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –•–æ—Ä—Ç–∏–Ω“ë–æ–º</h1>
            <p>–í–µ—Ä—Å—ñ—è 2.0 - Telegram Storage Edition</p>
        </header>
        
        <div id="status" class="status disconnected">
            ‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏...
        </div>
        
        <div class="controls">
            <button class="btn-primary" onclick="initStorage()">
                <span>üöÄ</span> –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
            </button>
            <button class="btn-success" onclick="testSystem()">
                <span>üß™</span> –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º–∏
            </button>
            <button class="btn-warning" onclick="addTestData()">
                <span>‚ûï</span> –î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
            </button>
            <button class="btn-primary" onclick="syncData()">
                <span>üîÑ</span> –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏
            </button>
            <button class="btn-success" onclick="exportData()">
                <span>üíæ</span> –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö
            </button>
            <button class="btn-danger" onclick="resetData()">
                <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ
            </button>
        </div>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="teamCount">0</div>
                <div class="stat-label">–ö–æ–º–∞–Ω–¥</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="memberCount">0</div>
                <div class="stat-label">–£—á–∞—Å–Ω–∏–∫—ñ–≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="taskCount">0</div>
                <div class="stat-label">–ó–∞–¥–∞—á</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="notificationCount">0</div>
                <div class="stat-label">–°–ø–æ–≤—ñ—â–µ–Ω—å</div>
            </div>
        </div>
        
        <div class="data-section">
            <h2>–®–≤–∏–¥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h2>
            <div style="margin: 20px 0;">
                <button onclick="addTeamMember(1, '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ', '—Å–∫–∞—É—Ç')">–î–æ–¥–∞—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞ –≤ 1 –∫–æ–º–∞–Ω–¥—É</button>
                <button onclick="addTeamTask(1, '–ü—Ä–∏–≥–æ—Ç—É–≤–∞—Ç–∏ –≤–µ—á–µ—Ä—é')">–î–æ–¥–∞—Ç–∏ –∑–∞–¥–∞—á—É 1 –∫–æ–º–∞–Ω–¥—ñ</button>
                <button onclick="addGlobalNotification('–í–∞–∂–ª–∏–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è', '–ê–¥–º—ñ–Ω')">–î–æ–¥–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è</button>
            </div>
        </div>
        
        <div class="data-section">
            <h2>–°—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏</h2>
            <div id="systemInfo" style="padding: 15px; background: #f0f4f8; border-radius: 8px; margin-top: 10px;">
                –û—á—ñ–∫—É–≤–∞–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó...
            </div>
        </div>
        
        <footer>
            <p>–°–∏—Å—Ç–µ–º–∞ Horting &copy; 2024 | –í–µ—Ä—Å—ñ—è: Telegram Storage</p>
            <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Telegram Bot API –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</p>
        </footer>
    </div>

    <script>
        // ==================== –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø ====================
        
        async function initStorage() {
            updateStatus('üîÑ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏...', 'disconnected');
            
            const connected = await window.HortingStorage.init();
            
            if (connected) {
                updateStatus('‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ Telegram Storage!', 'connected');
                await updateStats();
                await showSystemInfo();
            } else {
                updateStatus('üì¶ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ', 'disconnected');
                await updateStats();
                await showSystemInfo();
            }
        }
        
        async function testSystem() {
            if (!window.HortingStorage) {
                alert('–°–ø–æ—á–∞—Ç–∫—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É!');
                return;
            }
            
            try {
                // –¢–µ—Å—Ç –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
                const team1 = await window.HortingStorage.getTeam(1);
                console.log('–ö–æ–º–∞–Ω–¥–∞ 1:', team1);
                
                // –¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞
                await window.HortingStorage.addTeamMember(1, {
                    name: '–¢–µ—Å—Ç–æ–≤–∏–π –£—á–∞—Å–Ω–∏–∫',
                    role: '—Å–∫–∞—É—Ç',
                    age: 15
                });
                
                // –¢–µ—Å—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
                await window.HortingStorage.addTeamTask(1, {
                    title: '–¢–µ—Å—Ç–æ–≤–∞ –∑–∞–¥–∞—á–∞',
                    description: '–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–∏',
                    priority: 'high'
                });
                
                // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                await window.HortingStorage.addGlobalNotification({
                    title: '–¢–µ—Å—Ç–æ–≤–µ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è',
                    message: '–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ!',
                    author: '–°–∏—Å—Ç–µ–º–∞'
                });
                
                alert('‚úÖ –¢–µ—Å—Ç –ø—Ä–æ–π—à–æ–≤ —É—Å–ø—ñ—à–Ω–æ!\n–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ç–∞ Telegram.');
                
                await updateStats();
                await showSystemInfo();
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞ —Ç–µ—Å—Ç—É: ' + error.message);
            }
        }
        
        async function addTestData() {
            if (!confirm('–î–æ–¥–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –¥–æ –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥?')) return;
            
            try {
                // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
                const testMembers = [
                    { name: '–û–ª–µ–∫—Å—ñ–π –ö–æ–≤–∞–ª–µ–Ω–∫–æ', role: '–ª—ñ–¥–µ—Ä', age: 16 },
                    { name: '–ú–∞—Ä—ñ—è –®–µ–≤—á–µ–Ω–∫–æ', role: '—Å–∫–∞—É—Ç', age: 14 },
                    { name: '–î–º–∏—Ç—Ä–æ –ë–æ–Ω–¥–∞—Ä', role: '–∫—É—Ö–∞—Ä', age: 15 },
                    { name: '–ê–Ω–Ω–∞ –ú–µ–ª—å–Ω–∏–∫', role: '–º–µ–¥–∏–∫', age: 15 },
                    { name: '–Æ—Ä—ñ–π –ì—Ä–∏—Ü–µ–Ω–∫–æ', role: '—Å–∫–∞—É—Ç', age: 14 },
                    { name: '–°–æ—Ñ—ñ—è –ö–æ–≤–∞–ª—å', role: '—Å–∫–∞—É—Ç', age: 13 }
                ];
                
                for (let i = 1; i <= 6; i++) {
                    await window.HortingStorage.addTeamMember(i, testMembers[i-1]);
                    
                    await window.HortingStorage.addTeamTask(i, {
                        title: `–ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∫–æ–º–∞–Ω–¥–∏ ${i}`,
                        description: '–ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è',
                        priority: 'medium',
                        deadline: new Date(Date.now() + 86400000 * 3).toISOString().split('T')[0]
                    });
                }
                
                await window.HortingStorage.addGlobalNotification({
                    title: '–¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –¥–æ–¥–∞–Ω–æ',
                    message: '–£—Å—ñ –∫–æ–º–∞–Ω–¥–∏ –º–∞—é—Ç—å —Ç–µ—Å—Ç–æ–≤–∏—Ö —É—á–∞—Å–Ω–∏–∫—ñ–≤ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è.',
                    author: '–°–∏—Å—Ç–µ–º–∞'
                });
                
                alert('‚úÖ –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!');
                await updateStats();
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        async function addTeamMember(teamId, name, role) {
            try {
                await window.HortingStorage.addTeamMember(teamId, {
                    name: name,
                    role: role,
                    age: Math.floor(Math.random() * 5) + 12
                });
                
                alert(`‚úÖ –£—á–∞—Å–Ω–∏–∫–∞ "${name}" –¥–æ–¥–∞–Ω–æ –¥–æ –∫–æ–º–∞–Ω–¥–∏ ${teamId}`);
                await updateStats();
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        async function addTeamTask(teamId, title) {
            try {
                await window.HortingStorage.addTeamTask(teamId, {
                    title: title,
                    description: '–í–∞–∂–ª–∏–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∫–æ–º–∞–Ω–¥–∏',
                    priority: 'high'
                });
                
                alert(`‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è "${title}" –¥–æ–¥–∞–Ω–æ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏ ${teamId}`);
                await updateStats();
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        async function addGlobalNotification(title, author) {
            try {
                await window.HortingStorage.addGlobalNotification({
                    title: title,
                    message: '–¶–µ –≤–∞–∂–ª–∏–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –≤—Å—ñ—Ö —É—á–∞—Å–Ω–∏–∫—ñ–≤.',
                    author: author
                });
                
                alert(`‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è "${title}" –¥–æ–¥–∞–Ω–æ`);
                await updateStats();
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        async function syncData() {
            updateStatus('üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è...', 'disconnected');
            
            try {
                const success = await window.HortingStorage.syncWithTelegram();
                
                if (success) {
                    updateStatus('‚úÖ –î–∞–Ω—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ', 'connected');
                    await updateStats();
                    await showSystemInfo();
                    alert('‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!');
                } else {
                    updateStatus('‚ùå –ü–æ–º–∏–ª–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó', 'disconnected');
                    alert('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ');
                }
            } catch (error) {
                updateStatus('‚ùå –ü–æ–º–∏–ª–∫–∞', 'disconnected');
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        async function exportData() {
            try {
                const data = await window.HortingStorage.exportData();
                const dataStr = JSON.stringify(data, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `horting_backup_${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                
                URL.revokeObjectURL(url);
                
                alert('‚úÖ –î–∞–Ω—ñ –µ–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ —É —Ñ–∞–π–ª!');
                
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞ –µ–∫—Å–ø–æ—Ä—Ç—É: ' + error.message);
            }
        }
        
        async function resetData() {
            if (!confirm('‚ö†Ô∏è –í–ò –í–ü–ï–í–ù–ï–ù–Ü?\n\n–¶—è –¥—ñ—è –≤–∏–¥–∞–ª–∏—Ç—å –í–°–Ü –¥–∞–Ω—ñ:\n‚Ä¢ –£—Å—ñ—Ö —É—á–∞—Å–Ω–∏–∫—ñ–≤\n‚Ä¢ –í—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è\n‚Ä¢ –í—Å—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è\n\n–î—ñ—é –Ω–µ–º–æ–∂–ª–∏–≤–æ —Å–∫–∞—Å—É–≤–∞—Ç–∏!')) {
                return;
            }
            
            try {
                const success = await window.HortingStorage.resetToDefault();
                
                if (success) {
                    updateStatus('üîÑ –î–∞–Ω—ñ —Å–∫–∏–Ω—É—Ç–æ', 'disconnected');
                    await updateStats();
                    alert('‚úÖ –í—Å—ñ –¥–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ!');
                } else {
                    alert('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—á–∏—â–µ–Ω–Ω—è');
                }
            } catch (error) {
                alert('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error.message);
            }
        }
        
        // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
        
        function updateStatus(message, className) {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = 'status ' + className;
        }
        
        async function updateStats() {
            try {
                const teams = await window.HortingStorage.getAllTeams();
                
                // –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                let totalMembers = 0;
                let totalTasks = 0;
                
                for (const team of Object.values(teams)) {
                    totalMembers += team.members ? team.members.length : 0;
                    totalTasks += team.tasks ? team.tasks.length : 0;
                }
                
                const notifications = await window.HortingStorage.getGlobalNotifications();
                const messages = await window.HortingStorage.getAdminMessages();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                document.getElementById('teamCount').textContent = Object.keys(teams).length;
                document.getElementById('memberCount').textContent = totalMembers;
                document.getElementById('taskCount').textContent = totalTasks;
                document.getElementById('notificationCount').textContent = notifications.length;
                
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
            }
        }
        
        async function showSystemInfo() {
            try {
                const teams = await window.HortingStorage.getAllTeams();
                const notifications = await window.HortingStorage.getGlobalNotifications();
                const messages = await window.HortingStorage.getAdminMessages();
                
                let info = `
                <strong>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º–∏:</strong><br>
                ‚Ä¢ –ö–æ–º–∞–Ω–¥: ${Object.keys(teams).length}<br>
                ‚Ä¢ –£—á–∞—Å–Ω–∏–∫—ñ–≤: ${Object.values(teams).reduce((sum, team) => sum + (team.members ? team.members.length : 0), 0)}<br>
                ‚Ä¢ –ó–∞–≤–¥–∞–Ω—å: ${Object.values(teams).reduce((sum, team) => sum + (team.tasks ? team.tasks.length : 0), 0)}<br>
                ‚Ä¢ –°–ø–æ–≤—ñ—â–µ–Ω—å: ${notifications.length}<br>
                ‚Ä¢ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º: ${messages.length}<br><br>
                <strong>üåê –ó'—î–¥–Ω–∞–Ω–Ω—è:</strong> ${window.HortingStorage.isConnected ? '‚úÖ Telegram' : 'üì¶ –õ–æ–∫–∞–ª—å–Ω–µ —Å—Ö–æ–≤–∏—â–µ'}
                `;
                
                document.getElementById('systemInfo').innerHTML = info;
                
            } catch (error) {
                document.getElementById('systemInfo').textContent = '–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó';
            }
        }
        
        // ==================== –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
        
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('üöÄ Horting System –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è...');
            await initStorage();
        });
    </script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram Storage -->
    <script src="telegram-horting-storage.js"></script>
</body>
</html>
